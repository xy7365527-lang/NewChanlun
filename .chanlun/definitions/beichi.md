# 背驰（Beichi / Divergence）

**版本**: v0.5
**状态**: 生成态（#1/#2/#3/#6已结算，T6/T7三维度OR已集成；#4/#5仍为生成态）
**最后更新**: 2026-02-16
**原文依据**: 第24课、第25课、第27课、第29课、第33课、第37课；编纂版§9（趋势力度、背驰与盘整背驰）、§10.6（区间套）

---

## 原文谱系

背驰概念在缠师108课中的演化历程：

### 第24课 (2007-01-19) — 背驰首次完整定义 + MACD辅助判断

> "背驰：趋势力度比上一次趋势力度要弱，就形成背驰。换句话说，背驰其实就是力度衰竭的表现，C段和A段比。"

> "盘整背驰：盘整中当下笔或线段比前一笔或线段力度要弱，就形成了盘整背驰，C段和A段比。"

> "缠中说禅背驰-买卖点定理：任一背驰都必然制造某级别的买卖点，任一级别的买卖点都必然源自某级别走势的背驰。"

> "没有趋势，就没有背驰。在盘整中是无所谓'背驰'的，这点是必须特别明确的。"

> "一个背驰后，无论是盘整背驰还是真正的背驰，理论只能保证其回拉原来的走势中枢，这是正确的思维方式。"

> "背弛有级别的问题，一个1分钟级别的背弛，在绝大多数的情况下，不会制造一个周线级别的大顶，除非日线上同时也出现背弛。但出现背弛后必然有逆转，这是没任何商量余地的。"

> "用MACD判断背驰的前提是，A、B、C段在一个大的趋势里，其中A之前已经有一个中枢，而B是这个大趋势的另一个中枢，这个中枢一般会把MACD的黄白线（也就是DIFF和DEA）回拉到0轴附近。而C段的走势类型完成时对应的MACD柱子面积（向上的看红柱子，向下看绿柱子）比A段对应的面积要小，这时候就构成标准背弛。"

**要点**：
- 首次给出背驰的精确定义：趋势力度衰竭
- 明确区分背驰（趋势中）与盘整背驰（盘整中）
- 提出背驰-买卖点定理（充要关系）
- 给出MACD辅助判断的标准方法（A/B/C三段法）
- 背驰后的理论保证：至少回拉到B段中枢内
- 盘整背驰后：不一定大跌，可能形成第三类买点

### 第25课 (2007-01-23) — MACD深化 + 背驰回跌力度

> "对背驰的回跌力度，和级别很有关系，如果日线上在上涨的中段刚开始的时候，MACD刚创新高，红柱子伸长力度强劲，这时候5分钟即使出现背驰，其下跌力度显然有限，所以只能打点短差，甚至可以不管。而在日线走势的最后阶段，特别是上涨的延伸阶段，一个1分钟的背驰足以引发暴跌。"

> "一般来说，一个标准的两个中枢的上涨，在MACD上会表现出这样的形态，就是第一段，MACD的黄白线从0轴下面上穿上来，在0轴上方停留的同时，形成相应的第一个中枢，同时形成第二类买点，其后突破该中枢，MACD的黄白线也快速拉起……然后进入第二个中枢的形成过程中，同时MACD的黄白线会逐步回到0轴附近，最后，开始继续突破第二个中枢，MACD的黄白线以及柱子都再次重复前面的过程，但这次，黄白线不能创新高，或者柱子的面积或者伸长的高度不能突破新高，出现背驰，这就结束了这一个两个中枢的上涨过程。"

> "必须注意，无论背驰与盘整背驰，只要满足上面相应的标准，其技术上都是绝对的，没有任何的或然。"

> "由于MACD本身的局限性，要精确地判断背驰与盘整背驰，还是要从中枢本身出发，但利用MACD，对一般人理解和把握比较简单点，而这已经足够好了。光用MACD辅助判断，即使你对中枢不大清楚，只要能分清楚A、B、C三段，其准确率也应该在90%以上。而配合上中枢，那是100%绝对的。"

> "背驰需要多少个条件？光柱子缩短就背驰？前面的黄白线有回拉0轴吗？背驰和柱子缩短不是一回事情，不能把问题简单化了。"

**要点**：
- 背驰回跌力度与所处大级别位置密切相关
- 标准两中枢上涨的MACD形态完整描述
- MACD判断背驰的三个维度：(1)黄白线高度 (2)柱子面积 (3)柱子伸长高度
- 强调MACD是辅助，精确判断需从中枢本身出发
- 黄白线回拉0轴是背驰判断的前提条件之一（不是光柱子缩短就背驰）

### 第27课 (2007-01-29) — 区间套精确寻找转折点

> "学过数学分析的，都应该对区间套定理有印象。这种从大级别往下精确找大级别买点的方法，和区间套是一个道理。"

> "缠中说禅精确大转折点寻找程序定理：某大级别的转折点，可以通过不同级别背驰段的逐级收缩范围而确定。"

**要点**：
- 区间套=从高级别背驰段逐级向低级别收缩
- 理论依据：低级别背驰是高级别背驰的**必要条件**（非充分条件）
- 可精确定位历史性转折点

### 第29课 (2007-02-01) — 转折的力度与级别

原文通过转折力度分析进一步阐述了背驰的级别性质：不同级别的背驰导致不同级别的转折。

**要点**：
- 背驰的级别决定了转折的级别
- 低级别背驰只制造低级别买卖点
- 多级别背驰共振时转折力度最大

### 第33课 (2007-02-13) — 从中枢角度重新释义背驰

> "从纯粹中枢的角度对背驰给出另外的释义。对a+A+b+B+c，背驰的大概意思就是c段的力度比b的小了。那么，站在B这个中枢的角度，不妨先假设b+B+c是一个向上的过程，那么b可以看成是向下离开中枢B，而c可以看成是向上离开中枢B。所谓顶背驰，就是最后这个中枢，向上离开比向下离开要弱，而中枢有这样的特性，就是对无论向上或向下离开的，都有相同的回拉作用，既然向上离开比向下离开要弱，而向下离开都能拉回中枢，那向上的离开当然也能拉回中枢里，对于b+B+c向上的走势，这就构成顶背驰，而对于b+B+c向下的走势，就构成底背驰。对于盘整背驰，这种分析也一样有效。其实，站在中枢的角度，盘整背驰与背驰，本质上是一样的，只是力度、级别以及发生的中枢位置不同而已。"

**要点**：
- 背驰的中枢本质：最后一个中枢向上离开力度 < 向下离开力度（顶背驰），反之为底背驰
- 中枢对称回拉特性：上下离开受到相同的回拉力→弱的一方必被拉回
- 从中枢角度看，背驰与盘整背驰**本质同构**，只是级别和位置不同

### 第37课 (2007-03-01) — 背驰的再分辨

原文进一步补充了背驰在复杂走势中的判定细节，强调了背驰比较的对称性要求。

### 谱系小结

| 阶段 | 课号 | 核心内容 | 性质 |
|------|------|----------|------|
| 定义确立 | 第24课 | 背驰/盘整背驰精确定义、背驰-买卖点定理 | 概念奠基 |
| MACD深化 | 第25课 | MACD标准形态、三维度判断、黄白线回拉0轴前提 | 操作方法 |
| 区间套 | 第27课 | 精确大转折点寻找程序定理 | 多级别应用 |
| 力度级别 | 第29课 | 背驰级别与转折力度的关系 | 操作约束 |
| 中枢释义 | 第33课 | 从中枢角度重新释义背驰（对称回拉本质） | 概念深化 |
| 再分辨 | 第37课 | 复杂走势中的背驰判定 | 边界补充 |

---

## 定义

### 核心定义

**背驰（Trend Divergence）**：在趋势走势类型（至少2个同向中枢）中，最后一段离开中枢的力度弱于倒数第二段离开中枢的力度。即在 `a + A + b + B + c` 结构中，C段力度 < A段力度。

- **前提**：必须存在**趋势**（≥2同向中枢），无趋势则无背驰
- **比较对象**：同一趋势中最后两个中枢间的同向离开段
- **判定标准**：后者力度 < 前者力度（力度衰竭）

**盘整背驰（Consolidation Divergence）**：在盘整走势类型（仅1个中枢）中，当下同向离开中枢的力度弱于前一次同向离开中枢的力度。

- **前提**：存在**盘整**（1个中枢）
- **比较对象**：同一中枢的两次同向离开段
- **判定标准**：后者力度 < 前者力度

**顶背驰 vs 底背驰**：
- **顶背驰**：向上趋势的力度衰竭（上涨力竭），预示下行转折
- **底背驰**：向下趋势的力度衰竭（下跌力竭），预示上行转折

**背驰段（Divergence Segment）**：在某级别的某类型走势中，构成背驰或盘整背驰的最后一段走势类型。

### 关键定理

**背驰-买卖点定理**：任一背驰都必然制造某级别的买卖点，任一级别的买卖点都必然源自某级别走势的背驰。

- 这是一个**充要条件**（双向蕴含）
- 推论：所有的转折都源自背驰，所有的背驰都导致转折

**精确大转折点寻找程序定理（区间套）**：某大级别的转折点，可以通过不同级别背驰段的逐级收缩范围而确定。

- 理论依据：低级别背驰是高级别背驰的**必要条件**
- 操作方法：从大级别背驰段→次级别背驰段→更小级别背驰段……逐级收缩

### 从中枢角度的等价释义

对 `a + A + b + B + c`（向上趋势）：
- b = 向下离开中枢B
- c = 向上离开中枢B
- **顶背驰** = c的力度 < b的力度 → 中枢B对c的回拉必然成功（因b离开都能回拉，更弱的c当然也能）
- **底背驰**（向下趋势）= 向下离开 < 向上离开 → 同理

**关键性质**：中枢对上下方向的离开具有对称的回拉作用。

### 力度量化方法

**主要方法（MACD辅助）**：
1. 识别A、B、C三段：A和C是同向趋势段，B是中间的中枢/盘整连接
2. B段使MACD黄白线回拉到0轴附近（**前提条件**）
3. 比较C段与A段对应的MACD柱子面积：
   - 上涨看红柱子面积
   - 下跌看绿柱子面积
4. C段面积 < A段面积 → 背驰

**辅助维度**（三个维度综合判断）：
1. **黄白线高度**：C段黄白线不能创新高/新低
2. **柱子面积**：C段柱子总面积 < A段
3. **柱子伸长高度**：C段单根柱子最大伸长 < A段

**回退方法（无MACD数据时）**：
- 价格振幅 x 持续时间 作为力度代理

### 背驰后的理论保证

1. **趋势背驰**：回跌/回升**至少**回到B段中枢内
   - 这是严格的理论保证，不是概率性的
2. **盘整背驰**：回拉到原来的中枢内
   - 但不一定大幅反转，可能形成第三类买卖点后继续原方向
3. **逆转持续时间**：直到重新出现新的次级别买卖点为止
4. **回跌力度的级别约束**：
   - 大级别初期的小级别背驰→回调幅度有限
   - 大级别末期的小级别背驰→可能引发暴跌

---

## 背驰与走势完成的关系

### 核心问题：背驰是走势完成的充分条件还是必要条件？

**结论（生成态，待进一步验证）**：

1. **背驰 → 走势完成**：背驰是走势完成的**充分条件**
   - 原文依据："只要你看到某级别的背驰，必然意味着要有逆转"（第24课）
   - "无论背驰与盘整背驰，只要满足上面相应的标准，其技术上都是绝对的"（第25课）
   - 背驰一定导致至少回拉到中枢→走势类型在该点完成

2. **走势完成 → 背驰**：走势完成**不一定**必须通过本级别背驰
   - 小转大情况：低级别突发背驰导致本级别走势终结，但本级别未进入背驰段
   - 第三类买卖点直接终结盘整走势：无需背驰
   - 但"任一级别的买卖点都必然源自某级别走势的背驰"（背驰-买卖点定理）→ **某个级别**必然有背驰，只是不一定是本级别

3. **综合**：
   - 背驰是走势完成的**充分条件**（背驰必然终结走势）
   - 背驰（**在某个级别上**）是买卖点产生的**必要条件**（无背驰无买卖点）
   - 但本级别走势完成不要求本级别背驰（可由更小级别背驰"小转大"触发）

### 区间套与背驰的必要条件关系

低级别背驰是高级别背驰的**必要条件**：
- 高级别背驰时，低级别必然已经背驰
- 低级别背驰时，高级别不一定背驰
- 因此可以从低级别逐级向高级别确认

---

## 边界条件

### 正常情况
1. **最小构成**：趋势背驰需要至少2个同向中枢（趋势定义的最低要求）
2. **A/B/C段完整**：A段和C段都必须是完成的离开段
3. **MACD回拉0轴**：B段必须使MACD黄白线回拉到0轴附近

### 边界/特殊情况
1. **趋势延伸中的背驰**：
   - 多个中枢的趋势（>2个），背驰发生在最后两个中枢间
   - 第二个中枢后就产生背驰的情况占绝大多数（日线以上90%+）
   - 极端情况：100个中枢后才背驰（百年难遇）
2. **第一个中枢后的"背驰"**：
   - 不是真正的背驰，只能算盘整背驰
   - 技术含义：企图脱离中枢的运动因力度不足被拉回
3. **小转大**：
   - 本级别未进入背驰段，但低级别突发背驰导致本级别走势终结
   - 此时只能在次级别回抽确认后才能找到买点（错过第一类买点）
4. **背了又背（反复背离）**：
   - 本级别进入背驰段，但次级别以下力度很大，导致迟迟无法真正背驰
   - 只要未打破背驰段，仍需密切关注
   - 此为筑顶/筑底阶段的典型表现
5. **MACD急促走势的特殊处理**：
   - 极快速上涨（如连续涨停）中，1分钟MACD都无法反映背驰
   - 此时用MACD柱子伸长到达极限值来辅助判断
   - 或用更大级别（如30分钟）的MACD
6. **连续涨停的走势**：
   - MACD会出现类似正弦波动，不能用标准背驰判断
   - 用中枢上移是否结束来判断

### 结论翻转条件
- 如果力度比较对象选取错误（A段和C段不是同一趋势中的段），结论翻转
- 如果走势类型判定错误（把盘整误判为趋势），背驰判定失效
- 如果MACD参数不当或走势过快，MACD辅助失灵（需回退到中枢本身）

---

## 当前实现状态

### 代码位置
- **`src/newchan/a_divergence.py`** — 背驰/盘整背驰判定模块

### 已实现功能

#### 数据结构 `Divergence`
```python
@dataclass(frozen=True, slots=True)
class Divergence:
    kind: Literal["trend", "consolidation"]     # 趋势背驰 / 盘整背驰
    direction: Literal["top", "bottom"]          # 顶背驰 / 底背驰
    level_id: int                                # 递归级别
    seg_a_start, seg_a_end: int                  # A段索引范围
    seg_c_start, seg_c_end: int                  # C段索引范围
    center_idx: int                              # B段中枢索引
    force_a: float                               # A段力度
    force_c: float                               # C段力度
    confirmed: bool                              # 是否已确认
```

#### 趋势背驰检测 `_detect_trend_divergence`
- 趋势至少含2个中枢
- 取最后两个中枢 ci_prev、ci_last
- A段 = ci_prev出口 → ci_last入口（中枢间的趋势腿）
- C段 = ci_last出口 → 趋势终点
- force_c < force_a → 背驰

#### 盘整背驰检测 `_detect_consolidation_divergence`
- 盘整只含1个中枢
- 找中枢内最后两次同向离开段
- 后者力度 < 前者 → 盘整背驰

#### 力度计算 `_compute_force`
- 有MACD数据时：使用MACD柱子面积（上涨用area_pos，下跌用|area_neg|）
- 无MACD数据时：fallback为 价格振幅 x 持续bar数

#### 主函数 `divergences_from_level`
- 遍历某递归层级的所有走势类型实例
- 对每个实例先检测趋势背驰，若无则检测盘整背驰
- 每个走势类型实例最多报告一个背驰

### 实现与原文的对齐分析

| 原文要求 | 实现状态 | 备注 |
|----------|----------|------|
| A/B/C三段力度比较 | ✅ 已实现 | A段=两中枢间连接段，C段=最后中枢后的段 |
| MACD面积比较 | ✅ 已实现 | 通过 `macd_area_for_range` |
| 黄白线回拉0轴检查 | ✅ 已实现（T4） | B段MACD穿越0轴前提检查（方案3，无阈值） |
| 黄白线创新高检查 | ✅ 工具函数已实现（T6） | `dif_peak_for_range()`：计算指定范围DIF峰值。未集成到主检测（#2 or/and未结算） |
| 柱子伸长高度比较 | ✅ 工具函数已实现（T7） | `histogram_peak_for_range()`：计算指定范围hist峰值。未集成到主检测（#2 or/and未结算） |
| 盘整背驰 | ✅ 已实现 | 同向离开段力度比较 |
| 区间套（多级别嵌套） | ❌ 未实现 | 当前仅单级别检测 |
| 小转大 | ❌ 未实现 | 需跨级别联动 |
| confirmed时机 | ✅ 基本实现 | 跟随trend的confirmed状态 |

---

## 未结算问题

### ~~1. MACD黄白线回拉0轴的形式化~~ → ✅ 已结算（T4）

**结算结论**：采用方案3（B段MACD黄白线穿越0轴）实现，完全无人为阈值。
- **判据**：B段（最后中枢覆盖的raw bar范围）内MACD DIF值同时存在正值和负值（`has_positive AND has_negative`）
- **代码**：`a_divergence_v1.py :: _b_segment_crosses_zero()`
- **前提检查位置**：`_detect_trend_divergence()` 中，仅对趋势背驰检查；无MACD数据时跳过
- **测试**：8个T4测试全部 GREEN（正例/反例/边界），635 passed 零退化
- **核心洞察**：0轴回拉不是独立阈值检查，而是B段作为实体对象的MACD面积特征的自然表达 [新缠论]

### ~~2. 力度比较的多维度综合~~ → ✅ 已结算（OR关系）

**结算结论**：三个MACD维度为 **OR 关系**（任一满足即为背驰）。[旧缠论:选择]

**原文依据**：
- 第25课L38-43："黄白线不能创新高，**或者**柱子的面积**或者**伸长的高度能不能突破新高" — 原文用"或者"连接三维度
- 第25课L343-345："各位一定要把MACD判断背驰的几个条件综合起来，不能光看柱子就完事……就是因为柱子经常无效，所以才需要综合性的背驰概念" — "综合"指多维度交叉验证，非全部条件都要满足
- 第25课L14-16 反例：面积大但柱高不升 → 缠师仍判定为背驰（反证面积不是必要条件，支持 OR）

**三维度定义**：
1. **T5 黄白线高度**（DIF峰值）：C段 DIF 峰值未超过 A段 DIF 峰值 → 背驰（工具函数：`dif_peak_for_range()`）
2. **T2 柱子面积**：C段 MACD 柱子面积 < A段面积 → 背驰（已集成：`macd_area_for_range()`）
3. **T7 柱子伸长高度**（HIST峰值）：C段 HIST 峰值未超过 A段 HIST 峰值 → 背驰（工具函数：`histogram_peak_for_range()`）

**集成状态**：✅ 三维度 OR 已集成到 `_detect_trend_divergence()` 和 `_detect_consolidation_divergence()`
- Divergence 数据类扩展：新增 `dif_peak_a/c`, `hist_peak_a/c` 字段（默认0.0，向后兼容）
- 7 个专项测试（TestThreeDimensionOR）：T6单独触发、T7单独触发、全触发、全不触发、无MACD兼容、盘整T6、向后兼容
- T4 前提对三维度统一生效（T4 是趋势背驰整体的前提，非单维度）[旧缠论:选择]

### ~~3. 背驰与走势完成的精确形式化关系~~ → ✅ 已结算（充分非必要）

**结算结论**：背驰→走势完成是充分条件，走势完成→背驰不是必要条件（本级别）。[旧缠论:选择]

**原文依据**：
- 第24课L16-20："出现背驰后必然有逆转"（充分条件）
- 第24课L18："任一背驰都必然制造某级别的买卖点，**任一级别的买卖点都必然源自某级别走势的背驰**"（背驰-买卖点定理）
- 第三类买卖点可直接终结走势（无本级背驰，但次级背驰存在）
- "小转大"：本级别无背驰，次级别背驰触发走势终结

**精确表述**：
1. **背驰 → 走势完成**（充分）：某级别背驰必然导致该背驰段所属走势类型的完成
2. **走势完成 ↛ 本级别背驰**（不必要）：走势完成点=某级背驰对应的买卖点，但背驰可来自任何级别
3. **任一买卖点 ⟺ 某级别背驰**（充要，第24课L18）

**本质归属**：此问题的形式化实现归入 `zoushi.md` 走势完成机制，非 beichi 自身定义
- **谱系引用**：`.chanlun/definitions/zoushi.md` 未结算问题 #1

### 4. 盘整背驰的"离开段"定义
- **问题**：当前实现中盘整背驰的"离开段"判定为"超出[ZD, ZG]的段"，是否应改为"超出中枢区间[ZD, ZG]"还是"超出波动区间[DD, GG]"？
- **影响**：如果用波动区间，有延伸的中枢可能很少出现"离开"，导致盘整背驰检测困难
- **谱系引用**：参照 zoushi.md v1.1 GG/DD修复的经验

### 5. 区间套的实现
- **问题**：区间套（多级别背驰段逐级收缩）是背驰精确化的核心方法，目前完全未实现
- **依赖**：需要多级别递归引擎（a_level_fsm_newchan.py）完整运行
- **影响**：无区间套则无法精确定位大级别转折点

### ~~6. v0 TrendTypeInstance 依赖~~ → ✅ 已结算

**结算结论**：`a_divergence_v1.py` 已完全使用 v1 的 `Move`（`a_move_v1.py`）和 `Zhongshu`（`a_zhongshu_v1.py`），不依赖 v0 的 `TrendTypeInstance`。
- **代码**：`a_divergence_v1.py` — 入口函数 `divergences_from_moves_v1(segs, zss, mvs, ...)` 直接接收 v1 对象
- **原 v0 管线**：`a_divergence.py` 保留为参考实现，不再更新
- **测试**：T4 + T6/T7 全部基于 v1 管线验证，675 passed 零退化

---

## 依赖定义

### 直接依赖
1. **走势类型（`.chanlun/definitions/zoushi.md`）** — 核心前提
   - 背驰必须在趋势中判断（盘整中只有盘整背驰）
   - 趋势定义：≥2个同向中枢
   - 盘整定义：1个中枢
2. **中枢（`.chanlun/definitions/zhongshu.md`）** — 结构基础
   - A/B/C三段中，B是中枢
   - 中枢对离开段的回拉特性是背驰判定的理论基础
   - 背驰后回拉到B段中枢内

### 间接依赖
3. **线段（`.chanlun/definitions/xianduan.md`）** — 次级别走势的基础单元
4. **笔（`.chanlun/definitions/bi.md`）** — 更小级别的基础
5. **分型/包含关系** — 底层基础

### 被以下定义引用
1. **买卖点（尚未创建）** — 背驰-买卖点定理是买卖点定义的核心
2. **走势类型（`.chanlun/definitions/zoushi.md`）** — 未结算问题 #1 依赖背驰定义
3. **区间套（尚未创建）** — 多级别背驰段嵌套

---

## 谱系引用

### 相关谱系记录
1. **`.chanlun/genealogy/pending/005-object-negation-principle.md`** — 对象否定对象原则
   - 背驰是走势内部的自我否定机制，符合"对象否定对象"
   - 力度衰竭=走势内部动力的自然耗尽，不是外部否定
2. **`.chanlun/genealogy/pending/004-provenance-framework.md`** — 概念溯源框架
   - 背驰概念溯源标签：`[旧缠论]`（第24课首次定义）
   - MACD辅助方法溯源标签：`[旧缠论]`（第24-25课）
   - 中枢角度释义溯源标签：`[旧缠论]`（第33课）

### 不确定是否有相关谱系的领域
- 背驰的多维度综合判断（三个MACD维度的权重关系）：未发现相关谱系，但这是形式化过程中可能出现矛盾的区域
- 盘整背驰与趋势背驰的"本质同构"（第33课）：这一同构关系的形式化可能暴露中枢定义层面的张力

---

## 影响声明

### 本文件的影响
1. **创建新定义文件**：`.chanlun/definitions/beichi.md` — v0.1 生成态草案
2. **不修改任何已有代码或定义文件**

### 影响的模块
1. **`src/newchan/a_divergence.py`** — 当前背驰判定实现（未修改，但本文件记录了实现与原文的对齐差距）
2. **`src/newchan/a_macd.py`** — MACD计算模块（被 a_divergence.py 调用）
3. **`src/newchan/a_trendtype_v0.py`** — v0 走势类型（被 a_divergence.py 依赖）
4. **`src/newchan/a_move_v1.py`** — v1 走势类型（待适配）
5. **`src/newchan/a_level_fsm_newchan.py`** — 级别递归引擎（区间套实现所需）

### 影响的定义
1. **zoushi.md** — 解决其未结算问题 #1（"背驰判断与走势完成的关系"）的基础已在本文件中给出初步分析
2. **zhongshu.md** — 中枢的回拉特性在本文件中被引用为背驰的理论基础

### 下游推论
1. **买卖点定义**：背驰-买卖点定理确立后，三类买卖点可以统一归结为某级别背驰
2. **操作策略**：背驰检测的精确化直接影响买卖时机判断
3. **区间套实现**：本定义的完善是实现区间套（多级别精确买卖点定位）的前提
4. ~~**v0→v1迁移**~~ → ✅ 已完成（a_divergence_v1.py 使用 v1 Move/Zhongshu）

---

## Changelog

- **v0.1** (2026-02-16): 初始生成态草案 — 原文谱系、核心定义、力度量化、6个未结算问题
- **v0.2** (2026-02-16): #1 T4已结算（方案3: B段穿越0轴），实现对齐表更新
- **v0.3** (2026-02-16): T6/T7工具函数实现（dif_peak_for_range + histogram_peak_for_range，18测试全GREEN）；#6 v0→v1迁移已结算（a_divergence_v1.py 完全基于 v1 管线）
- **v0.4** (2026-02-16): #2 三维度综合判断已结算（OR关系）——原文第25课L38-43明确用"或者"连接三维度；T6/T7待集成到主检测
