# 概念结算 011：定级别的方向——自上而下只读遍历

**状态**: 已结算
**结算时间**: 2026-02-17
**结算依据**: 第17课答疑（一级权威）+ 008号谱系推论
**类型**: 语法记录 [旧缠论:隐含]
**域**: 级别（Level）、中枢（Zhongshu）
**溯源**: [旧缠论:隐含]

---

## 矛盾描述

缠论体系中存在两个方向：
- 递归**构造**是自底向上（K线 → 分型 → 笔 → 线段 → 中枢[1] → Move[1] → ...）
- 但"定级别"（认知当前走势处于什么级别）的方向是什么？

编排者提出"定级别从上到下"的口径。需要确认原文依据。

## 原文依据

### 一级权威

> "正因为如此，就不能从低级别看起，分析图形，**要从高看到低**。低级别走势的意义，是在高级别意义的彰显后才能彰显。" — 第17课答疑L936

### 关联证据

> "本ID的递归函数是有级别的，是级别依次升大的。" — 第102课L24
>（构造方向：从低到高）

> "级别和区间大小没什么必然关系。" — 第41课L277
>（级别不是视觉判断，需要递归确认）

## 结论（语法记录）

**定级别 = 对递归构造结果的自顶向下只读遍历。**

这不是缠师独立命名的概念，而是**已在实践中运作但未显式化的规则**：

1. 递归构造（RecursiveStack）自底向上产出走势类型和中枢
2. 定级别（determine_level）自顶向下遍历构造结果，确定当前最高已确认级别
3. 两个方向是**同一递归结构的两种遍历**，不是两套独立算法

### 构造 vs 认知的对偶性

| 维度 | 构造（build） | 认知（determine） |
|------|-------------|-------------------|
| 方向 | 自底向上 | 自顶向下 |
| 产出 | 中枢、走势类型 | 当前级别、主导级别 |
| 修改状态 | 是（新增中枢/Move） | 否（纯只读函数） |
| 实现 | RecursiveStack | determine_level()（纯函数） |
| 时机 | 每根K线到来时 | 需要判断"当前处于什么级别"时 |

### 关键约束

- determine_level() **不修改** RecursiveStack
- determine_level() **只读取**已构造的中枢和走势类型快照
- 结合008号谱系：级别确认基于**中枢形成**，不区分盘整/趋势

## 对代码的影响

- `determine_level(stack: RecursiveStack) -> LevelSnapshot`
  - `max_confirmed_level`：最高已形成中枢的级别
  - `dominant_level`：当下价格行为的主导级别
- 纯函数，无副作用
- 规范文件：`docs/spec/level_determination_v1.md`（草稿已有）

## 谱系链接

- 前置：006-level-recursion.md（递归框架的构造方向）
- 前置：008-trend-level-independence.md（级别确认基于中枢，不基于趋势/盘整）
- 前置：010-construction-vs-classification.md（定级别属于构造层操作）
- 规范文件：`docs/spec/level_determination_v1.md`（待最终化）
