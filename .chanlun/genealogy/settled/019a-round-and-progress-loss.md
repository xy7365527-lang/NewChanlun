# 019a — 蜂群轮次汇总与形式化进度的丢失窗口

**状态**: 已结算
**类型**: meta-rule
**日期**: 2026-02-18
**结算日期**: 2026-02-18
**溯源**: [新缠论]
**域**: 元编排方法论（状态持久化）

---

## 矛盾描述

蜂群主循环（C1）和概念生成循环（C2）中存在两个状态丢失窗口：

1. **轮次汇总丢失（G1）**：蜂群每轮完成后的汇总结果只在上下文中，不写文件系统。compact 发生在"上轮汇总完、下轮未开始"的间隙时，本轮发现丢失。
2. **形式化进度丢失（G2）**：概念分离后，两个口径的实现进度没有结构化记录。session 中断点是自由文本，不是可解析的口径状态。

## 结算

### G1 — 已修复

修复方式：在 SKILL.md 核心备忘中加入"蜂群每轮汇总后，就地更新当前 session 的中断点章节"。

PreCompact hook 已有过时检测（比较 session mtime 与最新 commit 时间），配合 agent 轮次回写，消除丢失窗口。

### G2 — 缺口已识别，方案已记录，等实际触发

当前无活跃口径分离。G2 的 progress 字段方案已记录于本文件，等实际概念分离产生多口径并行时再实施（选择类型，需编排者决断 schema 设计）。

## 推导链

1. 原则7 确保蜂群不停歇（已结算，CLAUDE.md）
2. L0/L1/L2 三级恢复保障 compact/新对话时的状态恢复（已实现）
3. 但恢复的粒度是"session 快照"，session 只存指针（017）
4. 指针指向的对象如果是"进行中"状态，指针指过去看到的是不完整快照
5. ∴ 需要在"不停歇"的循环中嵌入零成本持久化点（G1 → 轮次回写）

## 谱系链接

- **父**: 019-loop-breakpoint-coverage（本条是 019 的子发现 G1+G2）
- **前置**: 017-session-as-pointer（解决了容量膨胀，未解决时序断点）
- **前置**: 013-swarm-structural-stations（蜂群循环架构）

## 影响

- `.claude/skills/meta-orchestration/SKILL.md`：核心备忘增加轮次回写规则

## 来源

- [新缠论] — 系统性审计中的状态持久化分析
