---
id: "019d"
title: "谱系张力检查的递归与范围问题"
status: "已结算"
type: "meta-rule"
date: "2026-02-18"
depends_on: ["012"]
related: ["013", "016", "017", "019", "020"]
negated_by: []
negates: []
triggered: ["020"]
tensions_with: ["012"]
---

# 019d — 谱系张力检查的递归与范围问题

**状态**: 已结算
**结算日期**: 2026-02-18
**结算方式**: 020号谱系子发现结算（020的直接触发源，012↔013→构成性矛盾）
**类型**: meta-rule
**日期**: 2026-02-18
**溯源**: [新缠论]
**域**: 元编排方法论（谱系架构）

---

## 矛盾描述

012号谱系确立了"张力碰撞是核心发现来源"的原则，但未配套终止条件和范围策略：

1. **递归无终止**：新谱系→张力→新谱系→张力→…理论上无限递归
2. **范围无限制**：每写一条新谱系都全量检查所有已有谱系，成本 O(n)

**核心张力**：012（谱系是发现引擎 → 无限探索）vs 013（结构工位不应占据比任务工位更多资源 → 有限预算）。这两条已结算谱系之间存在未被辨认的张力。**后续辨认（020号）**：此张力是谱系系统的构成性张力（构成性矛盾），不是待消解的矛盾。

## 发现过程

### 递归场景（构造）

假设写入第20条谱系（区间套的递归本质）→ 与010（构造vs分类）碰撞 → 产出021（跨层操作）→ 与005b（对象否定对象）碰撞 → 产出022（跨级别否定的语法合法性）→ 与006（级别递归）碰撞 → 产出023…链条无收敛保证。

### 范围浪费分析

当前19条谱系中，假设写入一条笔层面谱系：
- 语义直接相关：001/002/003（3条）
- 完全不相关：005-018（15条）
- **浪费率：78.9%**

### 邻接图提取

从19条谱系的谱系链接中提取了完整邻接图。Hub节点（度≥4）：005b（8次）、010（5次）、006（5次）、012（4次）。图呈两大簇：域概念簇（001-011）和元编排簇（012-018），通过010和005b桥接。

### 模板与实际的矛盾

谱系模板定义 `related_records` 为 parent/children 二叉树结构，但实际19条谱系全部使用自由文本的多关系类型（前置/关联/推导自/触发审查等）。**模板定义的是树，实际是有向图。** 模板需要更新。

## 修复方向

### 递归深度限制

单次写入最多触发 **2层** 递归。超限的张力写入"深度张力待审"状态（新增第三种谱系状态），不丢失但不阻塞。

为什么是2层：
- 1层过于保守（010的发现需要第1层递归）
- 3层及以上的边际发现价值急剧下降，上下文消耗不可承受
- 实证：007/008/009→010 是第1层递归产物，010未触发进一步递归

### 检查范围策略

```
检查范围 = 同轮蜂群产出 ∪ 显式邻接谱系(1-hop) ∪ 同域Hub节点
```

- 同轮蜂群：保证012号实证条件的复现（007/008/009同轮碰撞）
- 显式邻接：作者写谱系时已识别的语义关联
- Hub节点：跨域桥接器，防止遗漏跨域张力

### 邻接图索引

新增 `.chanlun/genealogy/adjacency-index.yaml`，标准化关系类型枚举（derives_from / resolves / relates_to / sibling_of / supersedes），每次写入后自动更新。

### "深度张力待审"状态

```yaml
status: [生成态 | 已结算 | 深度张力待审]
```

写入 pending/ 以 `tension-` 前缀区分。Lead 轴线汇报时提及。编排者决定处置（启动专项处理 / 归档）。

## 推导链

1. 012 确立张力碰撞是发现来源（已结算）
2. 013 确立结构工位不应超过任务工位的资源消耗（已结算）
3. 012 和 013 之间存在构成性张力（构成性矛盾）：无限发现 vs 有限预算（见020号谱系）
4. 此张力不可消解——两个极端都让系统停转
5. ∴ 递归深度限制 + 范围策略 = **维持构成性张力的运行机制**，防止坍缩到任一极端

## 谱系链接

- **父**: 019-loop-breakpoint-coverage（本条是 019 的子发现 G5+G6）
- **前置**: 012-genealogy-is-discovery-engine（张力碰撞原则）
- **张力**: 013-swarm-structural-stations（结构工位资源约束 — **012与013的构成性张力，见020号**）
- **后续**: 020-constitutive-contradiction（将本条识别的张力重新定性为构成性条件）
- **前置**: 016-runtime-enforcement-layer（范围策略需要 runtime 强制）
- **前置**: 017-session-as-pointer（邻接图索引的同构：从全量加载变为按需索引）

## 影响

- `.claude/agents/genealogist.md`：增加递归深度限制和范围检查逻辑
- `.claude/skills/meta-orchestration/references/genealogy-template.md`：related_records 从 parent/children 改为标准化 links
- 新增 `.chanlun/genealogy/adjacency-index.yaml`
- `CLAUDE.md`：注册"深度张力待审"状态

## 实施记录

- **日期**: 2026-02-18
- **文件**: `.claude/agents/genealogist.md`（张力检查范围与递归章节）、`CLAUDE.md`（深度张力待审状态注册）
- **第一轮实施**: 递归深度=2 固定限制
- **第二轮重构（020号存在论位移）**: 从固定深度改为**结构完成检测**——递归K线（每层碰撞=一根K线，High/Low/实体映射），背驰（净新发现量递减）+ 分型（涉及范围先扩后缩）= 递归结构完成。实证：007/008/009→010 的发现过程符合背驰+分型模式。
- **保留**: 检查范围策略（同轮蜂群 ∪ 1-hop邻接 ∪ Hub节点）
- **保留**: 深度张力待审状态（超出结构完成点的张力不丢失不阻塞）
- **pending监控**: 从"3个ceremony周期"改为活性标注——ceremony扫描时标注上次引用时间，长期未引用→信号化

## 来源

- [新缠论] — 系统性审计中的架构分析
