---
id: "107"
title: "中枢定义到实现的选择谱系"
status: "已结算"
type: "语法记录"
date: "2026-02-22"
depends_on: []
related: ["001", "002", "006"]
negated_by: []
negates: []
provenance: "[旧缠论:选择]"
---

# 107 — 中枢定义到实现的选择谱系

**类型**: 语法记录
**状态**: 已结算
**日期**: 2026-02-22
**域**: 中枢（Zhongshu）
**溯源**: [旧缠论:选择]

---

## 目的

记录中枢概念从缠论原文定义到 `a_zhongshu_v1.py` 实现过程中做出的选择。这些选择已在代码和 `zhongshu.md` 中运作，但缺乏独立的谱系追踪。

---

## 选择清单

### C1: 组件选择——线段作为"次级别走势类型"

**原文**：中枢 = 至少三个连续**次级别走势类型**重叠（第17课）

**选择**：第一递归层级中，线段（Segment）充当"次级别走势类型"。输入为 `list[Segment]`。

**依据**：
- 递归定义链：1分K线 → 笔 → 线段 → 走势类型 → 中枢
- 线段是最低递归层级的走势类型代理
- `definitions.yaml` 明确标注"禁止 Stroke（笔不裁决）"

**替代方案被否定**：
- 笔直接构成中枢 → 违反递归定义（笔是结构元素非走势类型）
- K线直接构成中枢 → 仅适用于最低级别（第17课递归终止条件）

**谱系引用**：zhongshu.md #3 已结算（笔不裁决正确）

### C2: 区间法选择——固定区间

**原文**：ZG = min(g1, g2)，ZD = max(d1, d2)（第20课）

**选择**：[ZD, ZG] 由初始三段确定后**不再变化**。延伸段只判重叠，不修改区间。

**依据**：
- 中心定理一用固定 [ZD, ZG] 判定延伸（第20课）
- ZG/ZD 定义本身就是"前两个Z走势段"的函数，不是动态更新的

**替代方案被否定**：
- 动态更新区间（每段加入后重算 ZG/ZD）→ 与原文本意不符

**谱系引用**：zhongshu.md #1 已结算（固定区间正确）

### C3: 延伸边界——弱不等式

**原文**：突破 = dn > ZG 或 gn < ZD（第20课，严格不等式）

**选择**：延伸 = `sj.high >= zd and sj.low <= zg`（弱不等式，因为延伸是突破的否定）

**依据**：
- 原文突破用严格不等式（`>` / `<`）
- 延伸 = 非突破 = 弱不等式（`<=` / `>=`）
- 修复历史：v1.0 曾错误使用严格不等式，v1.1 修正

**谱系引用**：zhongshu.md 审计 #2 已修复

### C4: 续进策略——break_seg - 2

**选择**：突破后从 `max(break_seg_idx - 2, seg_end)` 开始扫描下一个中枢。

**依据**：
- 突破段本身可能成为下一个中枢的组件
- 回退 2 位确保不遗漏可能的三段重叠

### C5: 确认状态——只处理 confirmed 段

**选择**：`zhongshu_from_segments` 只处理 `confirmed=True` 的 Segment。

**依据**：
- 未确认段可能被后续数据修改
- 中枢定义要求"完成的"次级别走势类型
- 避免基于不稳定数据做判断

### C6: 级别扩张——v1 故意省略

**选择**：`a_move_v1.py` 故意省略扩展逻辑（波动区间重叠时截断为不同 Move）。

**依据**：
- v1 定位为单级别管线
- 多级别中枢扩展留待递归引擎层处理
- v0 的 `_centers_relation()` 包含 `"higher_center"` 分类可作参照

**谱系引用**：zhongshu.md #2 已结算（扩展充要条件，v1 选择省略）

---

## 六要素

### 1. 结论
中枢实现做了六项选择（C1-C6），均已在 zhongshu.md 中记录但缺乏独立谱系。本条目补齐此缺口。

### 2. 定义依据
第17课（中枢定义）、第20课（数学公式化 + 中心定理）。zhongshu.md v1.3（已结算）。

### 3. 边界条件
- C6（级别扩张省略）在递归引擎需要多级别中枢时翻转
- C2（固定区间）如果发现原文有动态更新的证据则翻转（当前无此证据）
- 所有选择在第一递归层级成立；更高递归层级的中枢可能有不同的组件类型

### 4. 下游推论
- 买卖点的第三类定义依赖 ZG/ZD（C2 的固定区间选择直接影响）
- 递归引擎层如需实现级别扩张，需参照 C6 和 v0 的 `_centers_relation()`

### 5. 谱系引用
- zhongshu.md v1.3（三问题已结算）
- 001号（退化段，影响中枢组件质量）
- 002号（原文不完整，影响定义完备性）

### 6. 影响声明
- 新增 `.chanlun/genealogy/settled/107-zhongshu-impl-choices.md`（本文件）
- 不改动任何代码或定义文件——本条目纯粹是已运作选择的显式记录
