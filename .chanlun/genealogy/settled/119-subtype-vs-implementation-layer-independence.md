---
id: '119'
title: 007/009子类型决断与029/031实现修复的层面独立性
type: 定理
status: 已结算
date: 2026-02-22
depends_on:
  - '007'   # 趋势是独立实体
  - '009'   # 盘整实体/标签双重性
  - '010'   # 构造层与分类层二层架构
related:
  - '029'   # Move C段覆盖修复
  - '031'   # Move价格范围语义
  - '099'   # 趋势/盘整实体化缺口
negation_source: v32审计发现（T4张力）
negation_form: 定理（从010号二层架构推导层面独立性）
negates: []
negated_by: []
provenance: "[新缠论]"
---

# 119号：007/009子类型决断与029/031实现修复的层面独立性

**类型**: 定理
**状态**: 已结算
**日期**: 2026-02-22
**来源**: v32审计发现 T4 张力——007/009的子类型决断被029/031"事实上静默否定"

## 张力描述

v32审计识别了一组 tensions_with 边：

- 007号决断：趋势应建模为 `Trend(Move)` 子类型（而非 `Move.kind="trend"` 标签）
- 009号决断：盘整应建模为 `Consolidation(Move)` 子类型
- 029号修复：`moves_from_zhongshus()` 的 C 段覆盖 bug——直接修改 `Move` 对象
- 031号决断：`Move.high/low` 语义从核心区间改为波动极值——直接修改 `Move` 属性

表面上看，029/031在 `Move` 基类上做修复，没有引用007/009的子类型决断，像是"静默否定"了子类型方案。

## 推导链

```
前提1: 010号定理——构造层与分类层是独立的两层架构
  - 构造层：中枢递归（只需 Move/Center）
  - 分类层：趋势/盘整是对构造结果的实体化解读
前提2: 007/009 的决断域 = 分类层（趋势/盘整作为 Move 的特化子类型）
前提3: 029/031 的修复域 = 构造层（Move 对象的 seg_end 和 high/low 语义）
前提4: 构造层和分类层独立（010号）→ 构造层修复不影响分类层决断
────────────────────────────────────────────────────────────
结论: 029/031 没有否定 007/009。两者运作在不同层面。
```

## 结论

**029/031 与 007/009 之间不存在否定关系。** 它们分别运作在构造层和分类层。

具体分析：

1. **029号**修复的是 `moves_from_zhongshus()` 的 `seg_end` 计算——这是构造层的 Move 对象如何从中枢列表生成的问题。无论 Move 后续是否被特化为 Trend/Consolidation，seg_end 的计算逻辑不变。

2. **031号**修复的是 `Move.high/low` 的语义（从核心区间到波动极值）——这是构造层 Move 对象的价格范围定义问题。Trend/Consolidation 子类型会继承这个语义，不存在冲突。

3. **007/009**的子类型方案尚未实现（099号记录了这个缺口），029/031 修复的是现有 Move 基类的 bug。当子类型方案实现时，029/031 的修复自然被继承——Trend(Move) 的 seg_end 和 high/low 都来自基类 Move。

## 边界条件

- 如果子类型实现时发现 Trend 和 Consolidation 需要不同的 high/low 语义 → 031号的"统一波动极值"决断可能需要修正，但这是新发现，不是029/031对007/009的否定
- 如果 010号二层架构被推翻（构造层和分类层合并）→ 层面独立性前提失效，需要重新评估

## 下游推论

1. dag.yaml 中 T4 的 tensions_with 边应降级为 related 边——这不是张力，是层面独立的平行运作
2. 099号（趋势/盘整实体化缺口）是 007/009 子类型决断的正确下游——实现时应基于029/031修复后的 Move 基类

## 影响声明

- 消解 T4 张力
- 不改动007/009/029/031任何内容
- dag.yaml 中 T4 相关的 tensions_with 边建议降级为 related（但不强制——保留 tensions_with 也不是错误，因为张力曾经存在过，本条是其结算）

## 谱系链接

- 010号（构造层/分类层二层架构）：本条推导的核心前提
- 099号（趋势/盘整实体化缺口）：007/009子类型的正确实现路径
- 029号/031号：构造层修复，与分类层独立
