# 测试规则（含生成态例外）

本规则在 ECC 的 testing.md 基础上增加一条例外。

## 标准要求（继承自ECC）

- TDD流程：先写测试再写实现
- 目标覆盖率 80%+
- 测试必须在本地通过后才能提交

## 生成态例外

如果某个模块依赖的定义仍处于**生成态**（谱系中标记为 `status: 生成态`），则：

- 该模块的测试覆盖率数字**不作为质量指标**
- 允许编写探索性测试来揭示定义矛盾（这些测试的目的不是通过，而是暴露问题）
- 当测试失败揭示的是定义冲突而非实现错误时，**不修改实现来让测试通过**，而是走矛盾上浮流程

## 判断依据

如何判断测试失败是"定义冲突"还是"实现错误"：
- 如果你能在不改变任何定义的前提下修复实现 → 实现错误，正常修复
- 如果修复实现需要改变某条定义的含义、边界、或适用范围 → 定义冲突，停下来上浮
